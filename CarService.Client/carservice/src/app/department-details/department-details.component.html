<div class="m-5" style="background-color: #fff; height: 100%;">
  <nav style="background-color: #e3e3e3;">
    <div class="nav nav-tabs" id="nav-tab" role="tablist">
      <a class="nav-item nav-link active" id="nav-jobs-tab" data-toggle="tab" href="#nav-jobs"
          role="tab" aria-controls="nav-jobs" aria-selected="true">Jobs</a>
      <a class="nav-item nav-link" id="nav-services-tab" data-toggle="tab" href="#nav-services"
          role="tab" aria-controls="nav-services" aria-selected="false" *ngIf='isAdmin'>Services</a>
    </div>
  </nav>
  <div class="tab-content" id="nav-tabContent">
    <div class="tab-pane fade show m-3 active" id="nav-jobs" role="tabpanel" aria-labelledby="nav-jobs-tab">

      <h5 class="w-50 d-inline">Jobs in department</h5>

      <!-- <button type="button"
            class="btn btn-primary btn-md float-right mr-3"
            (click)="navigateToCreateJob()"
            *ngIf='isAdmin'>Create Job</button> -->

      <table class="table mt-3">
        <thead>
          <tr>
            <th scope="col">Created At</th>
            <th scope="col">Deadline</th>
            <th scope="col">Make</th>
            <th scope="col">Model</th>
            <th scope="col">Reg.#</th>
            <th scope="col">Status</th>
            <th *ngIf="isOperator">Action</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let job of jobs">
            
            <td>{{job.createdDate}}</td>
            <td>{{job.deadLine}}</td>
            <td>{{job.vehicle.make}}</td>
            <th>{{job.vehicle.model}}</th>
            <td>{{job.vehicle.registryNumber}}</td>
            <td>{{GetStatus(job.jobStatus)}}</td>
            <th>
                <button type="button" *ngIf="isOperator && IsNotStarted(job.jobStatus)"
                  class="btn btn-primary btn-md"
                  (click)="startJob(job?.id)">Start Job</button>
              </th>
          </tr>
        </tbody>
      </table>

    </div>
    <div *ngIf='isAdmin' class="tab-pane fade show m-3" id="nav-services" role="tabpanel" aria-labelledby="nav-services-tab">
      <h5 class="w-50 d-inline">Services in department {{ department?.name }}</h5>

      <button type="button"
            class="btn btn-primary btn-md float-right"
            (click)="navigateToCreateService()"
            *ngIf='isAdmin'>Create Service</button>

      <table class="table mt-5">
        <thead>
            <tr>
                <th scope="col">Service name</th>
                <th scope="col">Service price</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let service of department?.services">
                <td>{{service.name}}</td>
                <td>{{service.price}}</td>
            </tr>
        </tbody>
      </table>
    </div>
</div>
